import streamlit as st
from datetime import date

# 🌟 기본 설정
st.set_page_config(page_title="2025 사주풀이", page_icon="🔮")
st.title("🔮 2025년 사주총운 풀이")
st.caption("100년간 명리학을 연구한 AI 사주도사가 직접 알려드립니다 👴📜")

# 📥 사용자 입력
st.header("📝 사주 정보 입력")
name = st.text_input("이름 (한글)")
hanja = st.text_input("이름 (한자)")
birth_date = st.date_input("생년월일", value=date(2000, 1, 1), min_value=date(1900, 1, 1), max_value=date.today())
calendar_type = st.radio("달력 선택", ["양력", "음력"])
birth_hour = st.selectbox("태어난 시간", [
    "자시 (23:30~01:30)", "축시 (01:30~03:30)", "인시 (03:30~05:30)", 
    "묘시 (05:30~07:30)", "진시 (07:30~09:30)", "사시 (09:30~11:30)", 
    "오시 (11:30~13:30)", "미시 (13:30~15:30)", "신시 (15:30~17:30)", 
    "유시 (17:30~19:30)", "술시 (19:30~21:30)", "해시 (21:30~23:30)"
])

# 버튼 클릭 시 사주풀이
if st.button("🔍 사주풀이 보기"):
    if name and hanja:
        st.success(f"✨ {name} ({hanja})님의 2025년 운세가 준비되었습니다! ✨")
        
        # 🪄 실제 명리학 알고리즘 대신 예시 풀이 사용
        st.subheader("🌠 1. 2025년 총운")
        st.markdown("""
        - **2025년은 '변화'와 '기회'가 교차하는 해입니다.** 🔄✨  
        - 새로운 환경이나 직업 변화가 있을 수 있으나, 긍정적인 방향으로 흘러갑니다.  
        - '흘러가는 대로 두기보다, 방향을 잡는 해'가 됩니다. 🧭
        """)

        st.subheader("💘 2. 연애운")
        st.markdown("""
        - 싱글이라면 **3~5월**, **10월**에 귀인을 만날 운 💌  
        - 연애 중이라면 오해가 생기기 쉬운 시기이니, 대화와 공감이 중요합니다 🫂  
        - 진심을 보여주면 상대도 움직일 것입니다 💞
        """)

        st.subheader("💍 3. 결혼운")
        st.markdown("""
        - 미혼자에게는 **결혼 이야기 또는 약속이 구체화되는 해**가 될 수 있어요 💍  
        - 다만, 갑작스러운 결정은 피하고 충분한 준비와 대화를 갖는 것이 좋습니다.  
        - 이미 결혼하셨다면 가정에 기쁜 소식이 찾아올 수 있습니다! 👶
        """)

        st.subheader("💰 4. 재물운")
        st.markdown("""
        - 수입은 꾸준하지만 **불필요한 지출**이 늘어날 수 있으니 **지출관리 주의**! 💸  
        - 투자보다는 **저축과 안정성 위주 재정 운영**이 유리한 해입니다.  
        - 6~8월 사이, 뜻밖의 수입이 생길 수도 있어요! 🍀
        """)

        st.subheader("🩺 5. 건강운")
        st.markdown("""
        - 과로 및 **소화기계 질환** 조심! 위장, 장 건강에 관심을 두세요. 🥦  
        - 정신적인 피로가 누적되기 쉬우니, **휴식과 명상, 수면관리** 필수 🛌  
        - 운동 시작하기 딱 좋은 해입니다! 🚶‍♀️💪
        """)

        st.info("💡 사주는 참고용입니다. 중요한 선택은 신중히 결정하세요.")
    else:
        st.warning("⚠️ 이름과 한자 이름을 모두 입력해 주세요.")
